CREATE TABLE users(
id INT AUTO INCREMENT PRIMARY KEY,
email VARCHAR(255) NOT NULL UNIQUE,
Password VARCHAR(255) NOT NULL,
role ENUM(' etudiant','admin','enseignant') NOT NULL DEFAULT 'etudiant',
created at TIMESTAMP DEFAULT CURRENT TIMESTAMP
updated_at TIMESTAMP DEFAULT CURRENT_ TIMESTAMP ON UPDATE CURRENT TIMESTAMP);


CREATE TABLE reservations (
id INT AUTO INCREMENT PRIMARY KEY,
user_id INT NOT NULL,
projector_ id INT NOT NULL,
start time DATETIME NOT NULL,
end time DATETIME NOT NULL,
status ENUM('en attente','approuvée','refusée') NOT NULL DEFAULT 'en attente',
created at TIMESTAMP DEFAULT CURRENT TIMESTAMP,
updated at TIMESTAMP DEFAULT CURRENT_ TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE,
FOREIGN KEY (projector_id) REFERENCES projectors(id) ON DELETE CASCADE);

CREATE TABLE projectors (
id INT AUTO INCREMENT PRIMARY KEY,
name VARCHAR (255 ) NOT NULL,
description TEXT,
status ENUM('fonctionnel' , 'en panne' ,'maintenance') NOT NULL DEFAULT 'fonctionnel',
available BOOLEAN NOT NULL DEFAULT TRUE,
created at TIMESTAMP DEFAULT CURRENT TIMESTAMP
updated_at TIMESTAMP DEFAULT CURRENT_ TIMESTAMP ON UPDATE CURRENT TIMESTAMP);
